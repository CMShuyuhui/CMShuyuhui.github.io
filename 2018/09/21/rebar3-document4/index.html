<!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.2" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="rebar3," />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.2" />






<meta name="description" content="[TOC] Custom Dep ResourcesEach dependency resource must implement the rebar_resource behaviour. 1234567891011121314151617181920-module(rebar_resource).-export_type([resource/0             ,type/0">
<meta name="keywords" content="rebar3">
<meta property="og:type" content="article">
<meta property="og:title" content="rebar3_document4">
<meta property="og:url" content="https://yoursite.com/2018/09/21/rebar3-document4/index.html">
<meta property="og:site_name" content="胡宇辉">
<meta property="og:description" content="[TOC] Custom Dep ResourcesEach dependency resource must implement the rebar_resource behaviour. 1234567891011121314151617181920-module(rebar_resource).-export_type([resource/0             ,type/0">
<meta property="og:locale" content="zh-Hans">
<meta property="og:updated_time" content="2018-09-21T05:38:01.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="rebar3_document4">
<meta name="twitter:description" content="[TOC] Custom Dep ResourcesEach dependency resource must implement the rebar_resource behaviour. 1234567891011121314151617181920-module(rebar_resource).-export_type([resource/0             ,type/0">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://yoursite.com/2018/09/21/rebar3-document4/"/>





  <title>rebar3_document4 | 胡宇辉</title>
  














</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail ">
    <div class="headband"></div>
    <a href="https://github.com/CMShuyuhui"><img style="position: absolute; top: 0; left: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_left_red_aa0000.png" alt="Fork me on GitHub"></a>
    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">胡宇辉</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">Done is better than perfect</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-commonweal">
          <a href="/404.html" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-heartbeat"></i> <br />
            
            公益404
          </a>
        </li>
      
        
        <li class="menu-item menu-item-something">
          <a href="/something" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-question-circle"></i> <br />
            
            有料
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://yoursite.com/2018/09/21/rebar3-document4/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="CMS_huyuhui">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/huyuhui.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="胡宇辉">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">rebar3_document4</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-09-21T13:27:27+08:00">
                2018-09-21
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/ebook/" itemprop="url" rel="index">
                    <span itemprop="name">ebook</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>[TOC]</p>
<h1 id="Custom-Dep-Resources"><a href="#Custom-Dep-Resources" class="headerlink" title="Custom Dep Resources"></a>Custom Dep Resources</h1><p>Each dependency resource must implement the rebar_resource behaviour.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">-module(rebar_resource).</span><br><span class="line"></span><br><span class="line">-export_type([resource/0</span><br><span class="line">             ,type/0</span><br><span class="line">             ,location/0</span><br><span class="line">             ,ref/0]).</span><br><span class="line"></span><br><span class="line">-type resource() :: &#123;type(), location(), ref()&#125;.</span><br><span class="line">-type type() :: atom().</span><br><span class="line">-type location() :: string().</span><br><span class="line">-type ref() :: any().</span><br><span class="line"></span><br><span class="line">-callback lock(file:filename_all(), tuple()) -&gt;</span><br><span class="line">    rebar_resource:resource().</span><br><span class="line">-callback download(file:filename_all(), tuple(), rebar_state:t()) -&gt;</span><br><span class="line">    &#123;tarball, file:filename_all()&#125; | &#123;ok, any()&#125; | &#123;error, any()&#125;.</span><br><span class="line">-callback needs_update(file:filename_all(), tuple()) -&gt;</span><br><span class="line">    boolean().</span><br><span class="line">-callback make_vsn(file:filename_all()) -&gt;</span><br><span class="line">    &#123;plain, string()&#125; | &#123;error, string()&#125;.</span><br></pre></td></tr></table></figure>
<p>Included with rebar3 are rebar_git_resource, rebar_hg_resource and rebar_pkg_resource.</p>
<p>A custom resource can be included the same way as a plugin. An example of this can be seen in Kelly McLaughlin’s rebar3_tidy_deps resource:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">-module(rebar_tidy_deps).</span><br><span class="line"></span><br><span class="line">-export([init/1]).</span><br><span class="line"></span><br><span class="line">-spec init(rebar_state:t()) -&gt; &#123;ok, rebar_state:t()&#125;.</span><br><span class="line">init(State) -&gt;</span><br><span class="line">    &#123;ok, rebar_state:add_resource(State, &#123;github, rebar_github_resource&#125;)&#125;.</span><br></pre></td></tr></table></figure>
<p>This resource rebar_github_resource which implements the rebar3 resource behaviour is added to the list of resources available in rebar_state. Adding the repo as a plugin to rebar.config allows this resource to be used:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;mydep, &#123;github, &quot;kellymclauglin/mydep.git&quot;, &#123;tag, &quot;1.0.1&quot;&#125;&#125;&#125;.</span><br><span class="line"></span><br><span class="line">&#123;plugins, [</span><br><span class="line">    &#123;rebar_tidy_deps, &quot;.*&quot;, &#123;git, &quot;https://github.com/kellymclaughlin/rebar3-tidy-deps-plugin.git&quot;, &#123;tag, &quot;0.0.2&quot;&#125;&#125;&#125;</span><br><span class="line">]&#125;.</span><br></pre></td></tr></table></figure>
<h1 id="Profiles"><a href="#Profiles" class="headerlink" title="Profiles"></a>Profiles</h1><p>Configuration overrides</p>
<p><strong>Dependencies and Profiles</strong><br><em>Dependencies will always be compiled with the prod profile applied to their configuration. No other (besides default, of course) is used on any dependency. Even though they are configured for prod the dependency will still be fetched to the profile directory for the profile it is declared under. For example, a dependency in the top level deps will be under _build/default/lib and dependency under the profile test will be fetched to _build/test/lib, and both will be compiled with their prod profile configuration applied.</em></p>
<p>In any project, there’s invariably a set of options that are desired depending on the task run or the role of the person running the task.<br>In Erlang projects for example, the most common example is dependencies required only for test runs, such as mocking libraries or specific testing tools or frameworks.</p>
<p>Rebar3 addresses such requirements with the concept of profiles. A profile is a set of configuration settings to be used only in one of these specific contexts, overriding or complementing the regular configuration. Their objective is to be able to support multiple development use cases, while keeping things repeatable and without requiring external tools or environment values to do that work.</p>
<p>A profile for a run can be specified in three different ways:</p>
<ul>
<li>the REBAR_PROFILE environment variable</li>
<li>calling rebar as rebar3 as <code>&lt;profile&gt; &lt;command&gt;</code> or rebar3 as <code>&lt;profile1&gt;,&lt;profile2&gt; &lt;command&gt;</code></li>
<li>by a given rebar3 command. For example, the eunit and ct commands always add a test profile to the run.</li>
</ul>
<p>Any of these forms (or even all at once) will let rebar3 know that it should run as one of the special profiles and modify its configuration accordingly.</p>
<p>The profile configuration can be specified in the main rebar.config file as such:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#123;profiles, [&#123;ProfileName1, [Options, ...]&#125;,</span><br><span class="line">            &#123;ProfileName2, [Options, ...]&#125;]&#125;.</span><br></pre></td></tr></table></figure>
<p>For example, a test profile that adds the meck dependency only for test runs could be defined as:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;profiles, [&#123;test, [&#123;deps, [meck]&#125;]&#125;]&#125;.</span><br></pre></td></tr></table></figure>
<p>Any configuration value can go in profiles, including plugins, compiler options, release options, and so on.</p>
<h2 id="Example"><a href="#Example" class="headerlink" title="Example"></a>Example</h2><p>A more complete example might look like this:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&#123;deps, [...]&#125;.</span><br><span class="line">&#123;relx, [</span><br><span class="line">    ...</span><br><span class="line">]&#125;.</span><br><span class="line"></span><br><span class="line">&#123;profiles, [</span><br><span class="line">    &#123;prod, [</span><br><span class="line">        &#123;erl_opts, [no_debug_info, warnings_as_errors]&#125;,</span><br><span class="line">        &#123;relx, [&#123;dev_mode, false&#125;]&#125;</span><br><span class="line">    ]&#125;,</span><br><span class="line">    &#123;native, [</span><br><span class="line">        &#123;erl_opts, [&#123;native, o3&#125;]&#125;</span><br><span class="line">    ]&#125;,</span><br><span class="line">    &#123;test, [</span><br><span class="line">        &#123;deps, [meck]&#125;,</span><br><span class="line">        &#123;erl_opts, [debug_info]&#125;</span><br><span class="line">    ]&#125;</span><br><span class="line">]&#125;.</span><br></pre></td></tr></table></figure>
<p>Such a project therefore has four distinct profiles:</p>
<ul>
<li>default, the de-facto profile for all runs, corresponding to the overall rebar.config file</li>
<li>prod, in this case probably used to generate full releases without symlinks, and with stricter compiler options</li>
<li>native, to force compiling with HiPE, for faster mathematical code</li>
<li>test, which loads mocking libraries and enables debug information to be kept in files during test runs.</li>
</ul>
<p>Those might be combined in many ways. Here are example runs:</p>
<ol>
<li>rebar3 ct: will run the common test suites of the project. In order, the profiles applied will be default, and then test, because ct mandates the usage of a test profile.</li>
<li>rebar3 as test ct: will run the same as before. Profiles are not reapplied multiple times.</li>
<li>rebar3 as native ct: will run the tests in native mode. The order of profiles will be ‘default’, then ‘native’, and finally ‘test’ (which is specified last, by the command run).</li>
<li>rebar3 as test,native ct: will do the same as above. When applying profiles, rebar3 first expands them all, and applies them in the right order. So the order here would be default, then test, then native, then test again (because of the ct command). Because profiles can be applied idempotently, this is equivalent to just calling rebar3 as native ct.</li>
<li>rebar3 release will build the release only as the default profile.</li>
<li>rebar3 as prod release will build the release without development mode, with a stricter set of compiler options.</li>
<li>rebar3 as prod, native release will build the release as with the last command, but while also compiling modules to native mode.</li>
<li>rebar3 as prod release while REBAR_PROFILE=native in the environment will build the release as in the last command, but native will be applied before prod.</li>
</ol>
<p>The order of application of profiles is therefore:</p>
<ol>
<li>default</li>
<li>The REBAR_PROFILE value, if any</li>
<li>the profiles specified in the as part of the command line</li>
<li>the profiles specified by each individual command</li>
</ol>
<p>In general, profiles should therefore be composable means by which to configure which configuration subsets to use.</p>
<p><strong>Locking Dependencies</strong><br><em>Only dependencies list at the top level of rebar.config, the default profile, are saved to rebar.lock. Other dependencies will not get locked.<br>If someone wants to “lock for production” (meaning with production-related profiles), the answer is to use releases (see [[Releases]]), which allow to produce compiled artifacts that can be reused at any time, for deployment and such, which can be packaged with rebar3 tar for deployment.</em></p>
<h2 id="Option-Merging-Algorithm"><a href="#Option-Merging-Algorithm" class="headerlink" title="Option Merging Algorithm"></a>Option Merging Algorithm</h2><p>It’s generally tricky to try and merge all configuration options automatically. Different tools or commands will expect them differently, either as lists of tuples, proplists, or key/value pairs to be transformed into a dictionary of some sort.</p>
<p>To support the most generic form as possible, Rebar3 handles them as a loose combination of proplists and tuple lists. This means the following options are all seen as having the key native:</p>
<ol>
<li>native</li>
<li>{native, o3}</li>
<li>{native, still, supported}</li>
</ol>
<p>Even though some of them may or may not be supported by tools. For example, the Erlang compiler supports defining macros as either {d, ‘MACRONAME’} or {d, ‘MACRONAME’, MacroValue}, but not d alone, whereas it does support native and {native, o3}.</p>
<p>Rebar3 properly supports all these forms and merges them in a functional manner. Let’s take the following profiles as an example:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&#123;profiles, [</span><br><span class="line">    &#123;prod, [</span><br><span class="line">        &#123;erl_opts, [no_debug_info, warnings_as_errors]&#125;,</span><br><span class="line">    ]&#125;,</span><br><span class="line">    &#123;native, [</span><br><span class="line">        &#123;erl_opts, [&#123;native, o3&#125;, &#123;d, &apos;NATIVE&apos;&#125;]&#125;</span><br><span class="line">    ]&#125;,</span><br><span class="line">    &#123;test, [</span><br><span class="line">        &#123;erl_opts, [debug_info]&#125;</span><br><span class="line">    ]&#125;</span><br><span class="line">]&#125;.</span><br></pre></td></tr></table></figure>
<p>Applying the profiles in various orders will yield different the following lists of options for erl_opts:</p>
<ol>
<li>rebar3 as prod,native,test <command>: [debug_info, {d, ‘NATIVE’}, {native, o3}, no_debug_info, warnings_as_errors]</li>
<li>rebar3 as test,prod,native <command>: [{d, ‘NATIVE’}, {native, o3}, no_debug_info, warnings_as_errors, debug_info]</li>
<li>rebar3 as native,test,prod <command>: [no_debug_info, warnings_as_errors, debug_info, {d, ‘NATIVE’}, {native, o3}]</li>
<li>rebar3 as native,prod,test <command>: [debug_info, no_debug_info, warnings_as_errors, {d, ‘NATIVE’}, {native, o3}]</li>
</ol>
<p>Notice that the last profiles applied yield the first elements in the list, and that the elements within each profile’s list will be sorted according to their key.</p>
<p>This will allow rebar3 commands to pick up elements in the right order, while still supporting multi-value lists that require many elements to share the same key (such as [{d, ‘ABC’}, {d, ‘DEF’}], which are two independent macros!). Commands that do not support duplicated elements can stop processing them after the first ones, while those that build dictionaries (or maps) out of them may choose to insert them as is, or can safely reverse the list first (if the last elements processed become the final ones in maps).</p>
<p>All profile merging rules are processed safely that way. Plugin writers should be aware of these rules and plan accordingly.</p>

      
    </div>
    
    
    

    

    
      <div>
        <div style="padding: 10px 0; margin: 20px auto; width: 90%; text-align: center;">
  <div>感谢您的赞赏,赚点辛苦奶粉钱</div>
  <button id="rewardButton" disable="enable" onclick="var qr = document.getElementById('QR'); if (qr.style.display === 'none') {qr.style.display='block';} else {qr.style.display='none'}">
    <span>Donate</span>
  </button>
  <div id="QR" style="display: none;">

    
      <div id="wechat" style="display: inline-block">
        <img id="wechat_qr" src="/images/wechat_pay.jpg" alt="CMS_huyuhui WeChat Pay"/>
        <p>WeChat Pay</p>
      </div>
    

    
      <div id="alipay" style="display: inline-block">
        <img id="alipay_qr" src="/images/ali_pay.jpg" alt="CMS_huyuhui Alipay"/>
        <p>Alipay</p>
      </div>
    

    

  </div>
</div>

      </div>
    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/rebar3/" rel="tag"># rebar3</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2018/09/21/rebar3-document3/" rel="next" title="rebar3_document3">
                <i class="fa fa-chevron-left"></i> rebar3_document3
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2018/09/21/rebar3-document5/" rel="prev" title="rebar3_document5">
                rebar3_document5 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/huyuhui.jpg"
               alt="CMS_huyuhui" />
          <p class="site-author-name" itemprop="name">CMS_huyuhui</p>
           
              <p class="site-description motion-element" itemprop="description"></p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">23</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-categories">
              <a href="/categories/index.html">
                <span class="site-state-item-count">7</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">16</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Custom-Dep-Resources"><span class="nav-number">1.</span> <span class="nav-text">Custom Dep Resources</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Profiles"><span class="nav-number">2.</span> <span class="nav-text">Profiles</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Example"><span class="nav-number">2.1.</span> <span class="nav-text">Example</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Option-Merging-Algorithm"><span class="nav-number">2.2.</span> <span class="nav-text">Option Merging Algorithm</span></a></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">胡宇辉CMS_huyuhui</span>
</div>


<div class="powered-by">
  由  强力驱动
</div>

<div class="theme-info">
  主题 -
</div>

<div class="powered-by">
</div>



        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.2"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.2"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.2"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.2"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.2"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.2"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.2"></script>



  


  




	





  





  






  





  

  

  

  

  

  

</body>
</html>
<script type="text/javascript" src="/js/src/love.js"></script>
